name: Dev Integration
on:
  repository_dispatch:
    types: [backend-main, frontend-main]

concurrency:
  group: frontend-backend-integration
  cancel-in-progress: true

jobs:

  tests:
    runs-on: ubuntu-latest
    steps:
  
      - name: Checkout Backend
        uses: actions/checkout@v2
        with:
          repository: 'johnshift/multirepo-backend'
          path: backend

      - name: Checkout tools repo
        uses: actions/checkout@v2
        with:
          repository: 'johnshift/multirepo-frontend'
          path: frontend

      - name: Install tree
        run: sudo apt install tree -y

      - name: Echo directory
        run: tree -L 2